{"is_source_file": true, "format": "TypeScript", "description": "AuthService handles authentication operations including login, registration, and logout, manages token and user state via Angular signals, and interacts with localStorage and an API service.", "external_files": ["./api.service", "../models/auth.model"], "external_methods": ["ApiService.post", "signal", "localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "of", "tap"], "published": [], "classes": [{"name": "AuthService", "description": "Service managing authentication, user state, and token persistence."}], "methods": [{"name": "private readToken(): string | null { readToken", "description": "Reads authentication token from localStorage.", "scope": "AuthService", "scopeKind": "class"}, {"name": "private readUser(): User | null { readUser", "description": "Reads user information from localStorage.", "scope": "AuthService", "scopeKind": "class"}, {"name": "private persist(auth: AuthResponse) { persist", "description": "Saves authentication token and user data into localStorage and updates signals.", "scope": "AuthService", "scopeKind": "class"}, {"name": "login(payload: Credentials): Observable<AuthResponse> { login", "description": "Performs user login by calling API and persisting response.", "scope": "AuthService", "scopeKind": "class"}, {"name": "register(payload: RegisterPayload): Observable<AuthResponse> { register", "description": "Registers a new user via API and persists the response.", "scope": "AuthService", "scopeKind": "class"}, {"name": "logout(): Observable<void> { logout", "description": "Logs out the user by clearing local storage and updating signals.", "scope": "AuthService", "scopeKind": "class"}, {"name": "userSignal = signal<User | null>(this.readUser()); this", "scope": "AuthService", "scopeKind": "class", "description": "unavailable"}], "calls": ["this.api.post", "this.persist", "localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "of", "tap"], "search-terms": ["AuthService", "Angular signals", "localStorage token", "authentication", "auth login", "auth register"], "state": 2, "file_id": 27, "knowledge_revision": 111, "git_revision": "", "revision_history": [{"56": ""}, {"107": ""}, {"108": ""}, {"110": ""}, {"111": ""}], "ctags": [{"_type": "tag", "name": "AuthService", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^export class AuthService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "TOKEN_KEY", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^  private readonly TOKEN_KEY = 'auth_token';$/", "language": "TypeScript", "kind": "property", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "USER_KEY", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^  private readonly USER_KEY = 'auth_user';$/", "language": "TypeScript", "kind": "property", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^    const g: any = typeof globalThis !== 'undefined' ? globalThis : {};$/", "language": "TypeScript", "kind": "constant", "scope": "AuthService.logout", "scopeKind": "method"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^    const g: any = typeof globalThis !== 'undefined' ? globalThis : {};$/", "language": "TypeScript", "kind": "constant", "scope": "AuthService.persist", "scopeKind": "method"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^    const g: any = typeof globalThis !== 'undefined' ? globalThis : {};$/", "language": "TypeScript", "kind": "constant", "scope": "AuthService.readToken", "scopeKind": "method"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^    const g: any = typeof globalThis !== 'undefined' ? globalThis : {};$/", "language": "TypeScript", "kind": "constant", "scope": "AuthService.readUser", "scopeKind": "method"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^  login(payload: Credentials): Observable<AuthResponse> {$/", "language": "TypeScript", "kind": "method", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^  logout(): Observable<void> {$/", "language": "TypeScript", "kind": "method", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "ls", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^    const ls: any = g.localStorage as any;$/", "language": "TypeScript", "kind": "constant", "scope": "AuthService.logout", "scopeKind": "method"}, {"_type": "tag", "name": "ls", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^    const ls: any = g.localStorage as any;$/", "language": "TypeScript", "kind": "constant", "scope": "AuthService.persist", "scopeKind": "method"}, {"_type": "tag", "name": "ls", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^    const ls: any = g.localStorage as any;$/", "language": "TypeScript", "kind": "constant", "scope": "AuthService.readToken", "scopeKind": "method"}, {"_type": "tag", "name": "ls", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^    const ls: any = g.localStorage as any;$/", "language": "TypeScript", "kind": "constant", "scope": "AuthService.readUser", "scopeKind": "method"}, {"_type": "tag", "name": "ls", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^    const raw = ls && typeof ls.getItem === 'function' ? ls.getItem(this.USER_KEY) : null;$/", "language": "TypeScript", "kind": "constant", "scope": "AuthService.readUser", "scopeKind": "method"}, {"_type": "tag", "name": "persist", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^  private persist(auth: AuthResponse) {$/", "language": "TypeScript", "kind": "method", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^    const raw = ls && typeof ls.getItem === 'function' ? ls.getItem(this.USER_KEY) : null;$/", "language": "TypeScript", "kind": "constant", "scope": "AuthService.readUser", "scopeKind": "method"}, {"_type": "tag", "name": "readToken", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^  private readToken(): string | null {$/", "language": "TypeScript", "kind": "method", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "readUser", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^  private readUser(): User | null {$/", "language": "TypeScript", "kind": "method", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^  register(payload: RegisterPayload): Observable<AuthResponse> {$/", "language": "TypeScript", "kind": "method", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "this", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^  userSignal = signal<User | null>(this.readUser());$/", "language": "TypeScript", "kind": "method", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "userSignal", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-14310-14338/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^  userSignal = signal<User | null>(this.readUser());$/", "language": "TypeScript", "kind": "property", "scope": "AuthService", "scopeKind": "class"}], "hash": "a16620c4c002f32b17bdfc98fa31753a", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/app/services/auth.service.ts", "fields": [{"name": "private readonly TOKEN_KEY = 'auth_token';", "scope": "AuthService", "scopeKind": "class", "description": "unavailable"}, {"name": "private readonly USER_KEY = 'auth_user';", "scope": "AuthService", "scopeKind": "class", "description": "unavailable"}, {"name": "userSignal = signal<User | null>(this.readUser());", "scope": "AuthService", "scopeKind": "class", "description": "unavailable"}]}